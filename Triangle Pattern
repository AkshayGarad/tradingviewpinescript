// Define variables for the triangle pattern
var triangle = false;
var bearishTriangle = false;
var bullishTriangle = false;

// Check for triangle pattern
if (high[0] == high[1] && low[0] < low[1] && low[1] < low[2]) {
   triangle = true;
   bearishTriangle = true;
} else if (low[0] == low[1] && high[0] > high[1] && high[1] > high[2]) {
   triangle = true;
   bullishTriangle = true;
}

// Plot the triangle pattern
if (triangle) {
   if (bearishTriangle) {
      plot(low, "Bearish Triangle", color=red, linewidth=2);
   } else if (bullishTriangle) {
      plot(high, "Bullish Triangle", color=green, linewidth=2);
   }
}

// Add alert for triangle pattern
if (triangle) {
   if (bearishTriangle) {
      alert("Bearish triangle pattern detected");
   } else if (bullishTriangle) {
      alert("Bullish triangle pattern detected");
   }
}
