// Inside Bar with RSI Strategy

// Inputs
study(title="Inside Bar with RSI", shorttitle="Inside Bar RSI", overlay=true)
rsi_period = input(14, minval=1, maxval=100, title="RSI Period")
rsi_threshold = input(70, minval=1, maxval=100, title="RSI Threshold")

// Variables
rsiVal = rsi(close, rsi_period)
bar_high = max(high, 2)
bar_low = min(low, 2)

// Inside Bar
insideBar = (bar_high < high[1] and bar_low > low[1])

// Plotting
plot(insideBar ? high : na, color=insideBar ? green : na)
plot(insideBar ? low : na, color=insideBar ? green : na)

// RSI
plot(rsiVal, color=rsiVal > rsi_threshold ? red : green)

// Buy and Sell Signals
buy = insideBar and rsiVal < rsi_threshold
sell = insideBar and rsiVal > rsi_threshold

// Plotting Buy and Sell Signals
plot(buy ? low : na, color=green, linewidth=3)
plot(sell ? high : na, color=red, linewidth=3)

